---
layout: post
title: "2022년 2월 4주차 주간 회고"
categories:
  - 주간 회고
tags:
  - 회고
---

---

## 총평
대회용 베이스라인 코드의 개선 등에 집중한 주간이었다.

---
## 일기

### 2022년 2월 21일 월요일
심야에 눈이 뜨여 시간을 확인해 보니 새벽 5시였다.
아마 이 시간대에 식사를 하는 고양이의 기척 때문에 잠이 잠깐 깬 모양이다.
수면시간 확보를 위해 억지로 잠을 청했더니 7시 알람에 딱 맞춰 눈이 다시 떠졌다.

지난 날의 실패들을 밑거름 삼아, 억지로 몸을 일으키려 하지 않고 그대로 누워서 스마트폰으로 영단어 공부와 선형대수 영상을 시청하였다.
결과는 대성공, 8시가 되기도 전에 공부 2개를 끝마치고, 식사 루틴도 제대로 돌입했다.
실로 감격스럽다. 태양빛의 원조를 받아 8시가 되어서야 겨우겨우 일어나던 지난 날의 내가 이렇게 변하다니...

어제 미뤄둔 도커 이미지 자작 실습을 수행해야겠다.
생각보다 자잘한 에러들이 많아 뚫고 나가는데 애먹긴 했다.
일단 각종 설정 파일의 철자를 틀리는 경우도 있었고, requirements.txt 내의 버전 중 0.0.0으로 기록된 것이 있어 오류가 나기에 이를 제거해 주기도 했다.
그래도 일단 기초 실습은 완료할 수 있었다.

일단 학습 일정을 어떻게 잡아야 할 지 감이 잘 안 와서 오늘은 되는 곳 까지 진행 하기로 했다.
그래서 일단 피어세션 전까지 이번주 분량 총 10강 중 4강까지 듣게 되었다.
전체적으로 데이터 관련 내용이라 오늘은 여기까지만 듣고 데이터 관련 스페셜 미션을 수행하는 것에 집중 할 것이다.

EDA는 딱히 거창한 것이 아니라 일단 데이터를 내 눈으로 확인하는 것이라는 가르침에 따라 대회 테스트 데이터셋의 이미지 12600장을 하나하나 육안으로 체크하였다.
확실히 이렇게 하니 어떤 점을 고려해야 하는지 잘 보인다.

멘토님께서 이번 주차 강의는 강의보다 목요일 전까지 최대한 자체적으로 베이스라인 코딩을 해 보는 것이 더 성장할 수 있을 것이라 예언 하셨다.
그래서 역발상으로 아예 오늘 이번주 강의를 다 듣고 정리하면 되겠지 싶어서 전부 듣고 정리하였다.
아슬아슬하게 9시 전에 끝낼 수 있었다.

VS Code 의 Remote-SSH extension을 이용하여 내게 배정된 V100 서버를 연결하려 할 때, 잊고있었던 OS 별 디렉토리 세퍼레이터 차이를 뒤늦게 눈치챘다. 윈도우에선 '/'대신 '\'를 써 줘야 키의 디렉토리를 지정한다던가 할 때 원인모를 에러를 피할 수 있다.

오늘의 코딩테스트는 시간관계상 아주 극단적으로 간단한 난이도의 문제를 푸는김에, 원라인 코드로 짜 보기도 했다.

팀원분의 classification code function을 보다가 수리적 영감을 받아서 더 간단하게 계산할 수 있는 코드를 작성하였다.

새삼스럽지만, 몰입의 중요성을 다시금 실감하게 된 하루였다.
간만의 개발 분위기라 기분이 좋다.

오늘의 기분이 내일도 이어지길.
[어제의 내가 오늘의 나에게]

---
### 2022년 2월 22일 화요일
오늘도 7시 알람을 들으며 눈이 떠졌다...만 조금만 더 잘까 해서, 실제 활동 시작 시각은 7시 22분 즈음이었다.
그 전에 새벽 5시쯤 고양이가 밥이 적었는지 서럽게 우는 소리에 잠을 깬 것 같긴 하지만... 희미한 기억이므로 없다 치자.

오늘도 누운 채로 영단어 공부와 선형대수 영상 시청을 하였다.
확실히 이렇게 하니 공부는 공부대로 할 수 있고, 완전 기상 전 웜업이 되어 좋은 것 같다.
오늘의 Essense of Linear Algebra 영상은 Dot Procudt의 선형변환적 의미에 대해 탐구하는 내용이었다.

데일리 스크럼을 기다리던 중 오늘 모더레이터가 나라는걸 뒤늦게 깨닫고 허겁지겁 회의록 템플릿을 띄우고, 하는김에 팀 노션 페이지를 지난 변동사항에 맞춰 조금 수정하였다.
도중에 어제 궁리한 클래스 결정 함수의 개선점을 발견하여 코딩도 다소 시행하였다.

스크럼 도중 아까 짠 코드를 공유했는데, 팀원의 예리한 지적으로 버그를 발견할 수 있었다.
역시 협업이 짱이다. 나만 알고있었으면 분명 모르고 넘어가서 버그를 뿜뿜 뿜었을텐데...

다른 캠퍼분들의 토론 글 등을 훑어보며 내가 놓치고 있었던 데이터 결측치를 발견했다.
또 다른 글에서는 코드 최적화를 위해 조언을 남기기도 하였다.

git은 주로 깃허브 데스크탑을 이용해서 써먹던 편이었는데, 이제는 더 이상 미룰 수 없단 느낌으로 V100 서버에서 커멘드라인을 사용해 git을 써먹어봤다.
우리 팀의 레포를 클론해서, 내 이름을 적어넣은 브렌치를 새로 만들었다.

conda 가상환경 셋업도 마쳤다.
라이브러리를 추가적으로 설치할 것은 없어보여서 일단은 냅뒀다.
scikitlearn 버전이 한 단계 차이가 있어 보이는데, 나중에 문제가 될 진 잘 모르겠다.
Docker를 이번 프로젝트에 도입해야 할 진 아직까진 잘 모르겠다.

피어세션에선 서로의 진척도를 확인하고, 깃허브 세부조정과 EDA에 대해 약간의 의견교환을 하였다.
일단 내일부터 대회 제출이 시작되는 만큼, 모델링까진 해보자는 느낌으로 진행했...지만 생각보다 스페셜 미션의 난이도가 꽤 있어서 모델링 코딩 단계에서 다소 진척이 느리다.

이대로 질질 끌다간 매일 하는 일도 제대로 못 끝낼 것 같아 일단 잠시 구현에서 손을 뗐다.
오늘치 근력운동을 수행하고, 비록 쉬운 문제지만 코딩 테스트 문제도 하나 풀었다.

어째 급해지니 밀린 숙제를 처리하는 듯한 느낌이 되었지만, 일단 다 했다는 것에 의의를 두자.

[어제의 내가 오늘의 나에게]

---
### 2022년 2월 23일 수요일
또 새벽 5시에 잠깐 일어났다가 7시 8분에 눈을 떴다.
이게 사실 내가 자각을 못 하는 수면패턴이었나?
7시 22분까지 밍기적거리다 그대로 영단어와 선대 영상을 시청했다.
영단어는 난이도가 다소 올라간 감이 있어서 갯수를 줄여서 몰입도를 조정했다.
오늘의 Essence of Linear Algebra 영상은 Cross Product의 span과 선형변환적 의미에 대해 탐구하는 내용이었다.

오늘 스크럼에서 각 팀원들의 진척도를 확인해 보니, 한 분을 빼고 다들 모델링 스페셜 미션에서 정체된 상태였다.
그 한 분께선 스페셜 미션보단 베이스라인 코드 구현에 우선점을 두어, 로우 퀄리티지만 일단 돌아가는 코드를 주피터로 구현하시고, 거기서 모델도 바꿔보며 실험하고 계셨다.
이에 큰 깨달음을 얻어 나도 베이스라인을 조촐하게나마 짜 보기로 했다.
오늘은 일정이 다소 바빠서 못해도 점심시간 전까진 짜리란 각오도 했다.

torchsummary를 이용하니 디멘션 맞추기가 참 좋았다.
점심시간 전까진 다 짜진 못했으나, 점심을 먹으면서 어떻게든 완성할 수 있었다.
중간에 파일네임 오류가 다양한 이미지 확장자 탓에 일어나서, 왜 파일 경로를 그냥 무작정 탐색해서 때려박는지 이해할 수 있었다.
하이퍼패러미터를 다양하게 변화시켜가며 실험을 하면서 왜 배치사이즈, 이미지 리사이징 등이 학습에 영향을 미치는지 알 수 있었다.

피어세션에선 각자의 진척상황을 확인하고, 이번 주의 목표를 결정했다.
말이 대회지 사실상 이번 것은 학습의 연장이라, 점수 올리기보단 각 멤버별로 ML 파이프라인을 하나하나 다 체험해 보면서 경험을 쌓는 것이 목표기에, 이번 주는 각자 베이스라인 코드를 짜서 그걸 이것저것 시도해 보며 디벨롭 해 보기로 하였다.

오늘치 제출 횟수가 많이 남아있어서 심심풀이 삼아 기학습된 ResNet18에 FC 하나만 18개 클래스로 뱉는 모델을 짜서 학습 후 결과물을 제출하니 의외로 상위권 점수가 나와서 경악했다.
다만 완전히 의도한 상황에서 나온 것이 아니라, 재현성도 보강하고, 다른 팀원과 대화하며 오류도 찾아냈다.
일단 현재는 가학습된 cnn까지 추가적으로 학습이 되는 모양새인데, 내일은 이 부분을 freeze 시켜봐야겠다.

---
### 2022년 2월 24일 목요일
오늘은 이례적으로 밤에 일기를 몰아서 쓰게 됐다.

이유는 터무니없는데, 그냥 프로젝트에 집중해서 그렇다.
아무리 대회 형식의 프로젝트라지만, 순위에 그리 연연하지 않는 주의였는데... 실험삼아 짠 모델의 성능이 상당히 상위권에 안착하면서 그만 국소적인 개선에 몰입해 버리고 말았다.

문제는 모델 성능을 실험하면서, 매 실험마다 컨트롤 할 변수를 가급적이면 1가지로 제한했어야 했는데, 워낙 한 번에 바꿀 때 많이 바꾸면서 원인 트래킹이 어려워지고 말았다.
거기에 더해 오피스아워 시간에 조교님이 보여주신 파이썬 프로젝트를 이용한 실험의 모듈화에 홀딱 반하고 말아, 오늘의 실험은 중단하고, 파이썬 프로젝트 환경에 익숙해지려는 노력을 기울이고 있다.

프로젝트 위주로 지나간 하루였지만, 일과가 된 소소한 공부들도 빠짐없이 수행했다.
영단어는 난이도 조정을 다시 하여 GRE 쪽으로 넘어갔다.
오늘의 Essense of Linear Algebra는 Cross Product의 선형변환적 의미에 대해서 더 깊이 탐구하는 내용이었다.
오늘의 코딩테스트 연습도 쉬운 난이도의 문제를 풀었다. 파이썬의 list comprehension과 zip을 이용하면 1라인으로 끝낼 수 있는 문제였다.

매일 운동한지 슬슬 2주째가 되어가고 있는데, 양질의 영양보급 덕인지 부위별 근육통 회복주기가 많이 짧아졌다.
슬슬 운동메뉴얼의 개편을 생각해 봐도 좋겠다 싶었다.

내일도 이 기세를 이어나가자

[어제의 내가 오늘의 나에게]

---
### 2022년 2월 25일 금요일
오늘도 평소와 같은 패턴으로 기상 후 영단어와 선대 영상을 시청했다.
오늘의 Essense of Linear Algebra는 Dot Procuct의 선형변환적 의미와 크래머 법칙에 대해 탐구하는 내용이었다.
점점 어려워져서 이걸 비몽사몽한 아침에 듣는 것이 과연 맞는가 싶기도 하다.

아침 팀 스크럼에선 서로의 진척도 확인도 하면서 앞으로의 프로젝트 방향성에 대한 의논도 진행하였다.
그 뒤, 아무리 해도 피로가 가시질 않아 원래 저녁에 해야 했을 운동과 샤워를 통해 혈액순환을 촉진시켰다.
효과는 딱히 없는 것 같다. 여전히 눈꺼풀이 무겁다.

오늘의 주요 목표는 주어진 파이썬 프로젝트 기반의 베이스라인 코드에 내 코드를 이식하는 작업을 끝내고, 주말동안 할 실험의 기반을 마련하는 것이다.
베이스라인 코드가 생각보다 방대하여, 온전한 이식을 하다간 지칠 것 같았다.
그래서 베이스라인을 계속 돌려보며, 모델부터 시작해서 하나하나 바꿔 나가기로 하였다.
작업 도중 기본적으로 제공된 데이터셋 분류 로직이 대회 테스트셋과 성질이 너무 크게 차이가 나는 것을 확인하였다.

데이터셋 품질 개선을 목적으로 다양한 Augmentation 기법과 샘플링 기법을 시도 중이다.
실험과 동시에 베이스라인 코드 마이그레이션 작업도 병행하고 있다.

코테 공부도 조촐하게나마 하였다.

피로감을 해소해야겠다. 빨리 자는 것이 좋을 것 같다.

---
### 2022년 2월 26일 토요일
주말에는 알람을 딱히 켜 놓지 않았으나, 이번에도 7시 17분쯤 눈이 떠졌다.
날씨 앱 기준으로 일출이 7시 4분 즈음이라 기록되어 있으니, 대충 일광을 감지하면 저절로 눈이 떠지는 몸이 된 게 맞는 것 같다.
물론 주말이니 좀 더 늑장을 부리자는 느낌으로 침대 위에서 밍기적 거렸더니, 9시 쯤에서야 제대로 일어나서 일과를 시작할 수 있었다.

침대 위에서 영단어는 끝마쳤으나, 선대 영상의 난이도가 날로 갈 수록 상승하여 이제 더 이상 비몽사몽인 채로는 들을 수 없겠다는 판단이 서서 오늘의 영상은 일어난 채로 시청하였다.
앞으로 침대 위에서 영단어 공부만 할 지는 고민해 봐야 할 문제다.
오늘의 Essense of Linear Algebra 영상은 좌표평면적 의미에서의 basis change에 대해 역행렬과 엮어서 논하는 내용이었다.

어느정도 주말엔 놀아야지 싶어서 인터넷 서핑에 조금 빠졌더니, 프로젝트를 제대로 수행할 수가 없었다.
기대했던 주말의 라멘투어를 미세먼지 탓에 내일로 미뤘더니 아무래도 오늘을 제대로 시작하는 시동이 제대로 걸리지 않은 느낌이다.
비록 저녁이 슬슬 다가오는 한낮이 되기까지 제대로 해 낸게 없지만, 지금이라도 스스로의 상태를 깨달았으니 다시 정진해야겠다.

프로젝트 관련으로 오늘 건드려야 할 것은 역시 학습 데이터셋의 개선이다.
어제는 불균형 클래스 문제를 해결하기 위해 마이너 클래스의 양을 augmentation과 oversampling, undersampling을 섞어 해결하려 하였으나, 그리 의도한 느낌의 개선이 이루어지지 않았다.
따라서 오늘은 계속 관측되던 결측치를 수정하는 방향으로 선회할까 한다.

하는김에 파이썬 프로젝트 형식의 베이스라인 코드도, 수정해나가는 것이 아닌 모방을 통해 나만의 코드를 구축하는 방향으로 선회하려 한다.
중간에 함부로 기존 코드를 주석처리 했다가 파일경로 오류를 뿜기도 했다.
주석처리 할 땐 신중하게 코드를 살펴보고 시행하자.

드디어 어느정도 베이스라인 코드를 커스터마이징 하여, 일단 기존 실험을 테스트 삼아 돌리고 있다.
실험 중 코테 공부도 살짝 하였다.
이번 문제는 파이썬의 Counter 객체의 빼기 기능과 키의 리스트화 기능을 이용하면 매우 간단히 풀 수 있는 문제였다.

---
### 2022년 2월 27일 일요일
오늘도 수많은 실험에 치여서 일기를 이렇게 늦은 밤에 쓰게 되었다.

대략적인 일과는 대부분 수행하였으나, 선형대수 공부를 거르게 되었다. 반성해야 할 점이다.

어제 못했던 운동을 오늘 라멘집을 가며 했는데, 다소 격렬한 면이 있어서 상당히 피곤하다.

모델링보단 데이터에 더 신경쓰는 실험을 해야겠다.
